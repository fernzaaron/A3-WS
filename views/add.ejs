<%- include('partials/header') %>
<%- include('partials/main_nav') %>

<!--
  Add Task page
  - Template: views/add.ejs
  - Form posts to: POST /tasks/add (handled by `routes/task.js`)
  - Fields: title, description, dueDate, status, priority
  - Notes: server should validate input and redirect back to /tasks on success
-->

<!-- Add Task page (main form) -->
<main class="container my-4">
	<div class="row justify-content-center">
		<div class="col-md-8">
			<!-- Modest card to tidy the form while keeping a simple look -->
			<div class="card">
				<div class="card-body">
					<h1 class="mb-3 h5"><%= title %></h1>
					<!-- Form: add a new task (kept simple) -->
					<form method="POST" action="/tasks/add">
						<!-- Title: short, required string -->
						<div class="mb-3">
							<label for="title" class="form-label">Title</label>
							<input type="text" id="title" name="title" class="form-control" placeholder="Task title" required>
						</div>

						<!-- Description: optional longer text -->
						<div class="mb-3">
							<label for="description" class="form-label">Description</label>
							<textarea id="description" name="description" class="form-control" rows="4" placeholder="Task description"></textarea>
						</div>

						<div class="row">
							<!-- Due Date: optional date (YYYY-MM-DD) -->
							<div class="col-md-6 mb-3">
								<label for="dueDate" class="form-label">Due Date</label>
								<input type="date" id="dueDate" name="dueDate" class="form-control">
							</div>
							<!-- Status: select one of the workflow states -->
							<div class="col-md-3 mb-3">
								<label for="status" class="form-label">Status</label>
								<select id="status" name="status" class="form-select">
									<option>Open</option>
									<option>In Progress</option>
									<option>Done</option>
								</select>
							</div>
							<!-- Priority: Low / Medium / High -->
							<div class="col-md-3 mb-3">
								<label for="priority" class="form-label">Priority</label>
								<select id="priority" name="priority" class="form-select">
									<option>Low</option>
									<option>Medium</option>
									<option>High</option>
								</select>
							</div>
						</div>

						<!-- Actions: Cancel returns to the list, submit posts the form -->
						<div class="d-flex justify-content-between">
							<a href="/tasks" class="btn btn-outline-secondary">Cancel</a>
							<button type="submit" class="btn btn-primary">Add Task</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</main>

<%- include('partials/footer') %>